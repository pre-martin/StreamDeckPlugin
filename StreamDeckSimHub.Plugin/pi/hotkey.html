<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name=viewport
          content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui,viewport-fit=cover">
    <meta name=apple-mobile-web-app-capable content=yes>
    <meta name=apple-mobile-web-app-status-bar-style content=black>
    <title>net.planetrenner.simhub.hotkeyPI</title>
    <link rel="stylesheet" href="libs/css/sdpi.css">
</head>

<body>

<div class="sdpi-wrapper">
    <div class="sdpi-heading">Keypress</div>

    <div class="sdpi-item">
        <div class="sdpi-item-label">Hotkey</div>
        <input class="sdpi-item-value" id="hotkey" value="" placeholder="Enter hotkey" oninput="saveSettings()">
    </div>
    <div type="checkbox" class="sdpi-item">
        <div class="sdpi-item-label">Modifiers</div>
        <div class="sdpi-item-value">
            <input id="ctrl" type="checkbox" value="ctrl" oninput="saveSettings()">
            <label for="ctrl" class="sdpi-item-label"><span></span>Ctrl</label>
            <input id="alt" type="checkbox" value="alt" oninput="saveSettings()">
            <label for="alt" class="sdpi-item-label"><span></span>Alt</label>
            <input id="shift" type="checkbox" value="shift" oninput="saveSettings()">
            <label for="shift" class="sdpi-item-label"><span></span>Shift</label>
        </div>
    </div>
    <div class="sdpi-item">
        <div class="sdpi-item-label">SimHub Control</div>
        <input class="sdpi-item-value" id="simhubControl" value="" placeholder="Enter unique control name" oninput="saveSettingsDelayed()">
    </div>
    <div class="sdpi-item">
        <div class="sdpi-item-label">SimHub Role</div>
        <select class="sdpi-item-value select" id="simhubRole" onchange="saveSettings()"></select>
    </div>

    <div class="sdpi-heading">Long Keypress</div>

    <div type="checkbox" class="sdpi-item">
        <div class="sdpi-item-label">Long Keypress</div>
        <div class="sdpi-item-value">
            <input id="hasLongKeypress" type="checkbox" value="hasLongKeypress" oninput="toggleLongKeypress(this.checked); saveSettings();">
            <label for="hasLongKeypress" class="sdpi-item-label"><span></span>Enabled</label>
        </div>
    </div>
    <div id="longKeypressDiv">
        <div class="sdpi-item">
            <div class="sdpi-item-label">Hotkey</div>
            <input class="sdpi-item-value" id="longHotkey" value="" placeholder="Enter hotkey" oninput="saveSettings()">
        </div>
        <div type="checkbox" class="sdpi-item">
            <div class="sdpi-item-label">Modifiers</div>
            <div class="sdpi-item-value">
                <input id="longCtrl" type="checkbox" value="longCtrl" oninput="saveSettings()">
                <label for="longCtrl" class="sdpi-item-label"><span></span>Ctrl</label>
                <input id="longAlt" type="checkbox" value="longAlt" oninput="saveSettings()">
                <label for="longAlt" class="sdpi-item-label"><span></span>Alt</label>
                <input id="longShift" type="checkbox" value="longShift" oninput="saveSettings()">
                <label for="longShift" class="sdpi-item-label"><span></span>Shift</label>
            </div>
        </div>
        <div class="sdpi-item">
            <div class="sdpi-item-label">Short Hold Time</div>
            <input class="sdpi-item-value" id="longKeypressShortHoldTime" value="" placeholder="Time to hold 'short' in ms" oninput="saveSettingsDelayed()">
        </div>
        <div class="sdpi-item">
            <div class="sdpi-item-label">Long Time Span</div>
            <input class="sdpi-item-value" id="longKeypressTimeSpan" value="" placeholder="Time to detect 'long' in ms" oninput="saveSettingsDelayed()">
        </div>
    </div>

    <div class="sdpi-heading">State</div>

    <div class="sdpi-item">
        <div class="sdpi-item-label" style="align-self: flex-start;">SimHub Property</div>
        <div class="sdpi-item-value" style="display: flex; flex-direction: column;">
            <input style="min-height: 26px;" id="simhubProperty" value="" placeholder="Enter property name" oninput="propertyFieldChanged(this)">
            <label id="simhubPropertyClearName" style="font-size: 9pt;"></label>
            <div style="display: flex; flex-direction: row;">
                <button class="max20" style="margin-left: 0;" onclick="fetchShakeItBassStructure('simhubProperty')" title="Open ShakeIt Bass selector">SIB</button>
                <button class="max20" style="margin-left: 0;" onclick="fetchShakeItMotorsStructure('simhubProperty')" title="Open ShakeIt Motors selector">SIM</button>
            </div>
            <input id="simhubPropertyClearNameCache" class="hidden" value=""/>
        </div>
    </div>

    <div class="sdpi-heading">Title</div>

    <div class="sdpi-item">
        <div class="sdpi-item-label" style="align-self: flex-start;">SimHub Property</div>
        <div class="sdpi-item-value" style="display: flex; flex-direction: column;">
            <input style="min-height: 26px;" id="titleSimhubProperty" value="" placeholder="Enter property name" oninput="propertyFieldChanged(this)">
            <label id="titleSimhubPropertyClearName" style="font-size: 9pt;"></label>
            <div style="display: flex; flex-direction: row;">
                <button class="max20" style="margin-left: 0;" onclick="fetchShakeItBassStructure('titleSimhubProperty')" title="Open ShakeIt Bass selector">SIB</button>
                <button class="max20" style="margin-left: 0;" onclick="fetchShakeItMotorsStructure('titleSimhubProperty')" title="Open ShakeIt Motors selector">SIM</button>
            </div>
            <input id="titleSimhubPropertyClearNameCache" class="hidden" value=""/>
        </div>
    </div>
    <div class="sdpi-item">
        <div class="sdpi-item-label">Display Format</div>
        <span class="sdpi-item-value textarea" >
            <textarea id="titleFormat" rows="2" style="min-height: 2em;" placeholder="Format like '[alignment][:formatString]'" oninput="saveSettingsDelayed()"></textarea>
        </span>
    </div>
</div>

<script src="libs/js/constants.js"></script>
<script src="libs/js/events.js"></script>
<script src="libs/js/api.js"></script>
<script src="libs/js/property-inspector.js"></script>
<script src="libs/js/utils.js"></script>
<script src="js/shakeit.js"></script>
<script src="js/simhubrole.js"></script>
<script src="js/hotkey.js"></script>

</body>
</html>
